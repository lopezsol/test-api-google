<!-- <h2>Carpetas disponibles</h2>
<ul>
  <li *ngFor="let folder of folders">
    <button (click)="listFilesInFolder(folder.id)">
      📁 {{ folder.name }}
    </button>
  </li>
</ul>

<h3 *ngIf="selectedFolderId">Archivos en carpeta seleccionada</h3>
<ul *ngIf="files.length > 0">
  <li *ngFor="let file of files">
    📄 {{ file.name }} ({{ file.mimeType }})
  </li>
</ul>
<p *ngIf="selectedFolderId && files.length === 0">No hay archivos en esta carpeta.</p>

<hr />

<h3>Subir archivo a mi carpeta propia</h3>
<input type="file" (change)="onFileSelected($event)" />
<button (click)="uploadSelectedFile()">Subir archivo</button> -->

<h1>Drive</h1>
<ul>
  @for (folder of files(); track $index) { 📁
  {{
    folder.name
  }}
  -
  {{
    folder.modifiedTime
  }}
  @if(folder.children?.length) {
  <ul>
    @for ( file of folder.children; track $index){
    <li>📄 {{ file.name }} - {{ file.mimeType }} - {{ file.modifiedTime }}</li>

    }
  </ul>
  } }
</ul>


<div class="drive-upload-container">
  <h2>Subir archivo a Google Drive</h2>

  <!-- Selector de archivo -->
  <input type="file" (change)="onFileSelected($event)" />

  <!-- Mostrar archivo seleccionado -->
  <div *ngIf="selectedFile" class="file-info">
    <p><strong>Archivo seleccionado:</strong> {{ selectedFile.name }}</p>
    <p>
      <strong>Tamaño:</strong> {{ (selectedFile.size / 1024).toFixed(2) }} KB
    </p>
  </div>

  <!-- Lista de carpetas -->
  <div class="folders-list">
    <h3>Seleccionar carpeta destino:</h3>
    <ul>
      <li
        *ngFor="let folder of files()"
        (click)="selectFolder(folder.id)"
        [class.selected]="folder.id === selectedFolderId"
      >
        {{ folder.name }}
      </li>
    </ul>
  </div>

  <!-- Botón de subida -->
  <button
    class="upload-btn"
    [disabled]="!selectedFile || !selectedFolderId"
    (click)="sendFileToBackend()"
  >
    Subir archivo
  </button>
</div>
